"use strict";(self.webpackChunkinnotech=self.webpackChunkinnotech||[]).push([[197],{3197:(L,m,s)=>{s.r(m),s.d(m,{AsignacionesModule:()=>k});var d=s(8583),e=s(3018),l=s(3256);let Z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["asignaciones-home"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),n})();var a=s(665);function u(n){var o,t;return new a.cw({id:new a.NI(n.id),empleado:new a.NI(null===(o=null==n?void 0:n.empleado)||void 0===o?void 0:o.id),equipo:new a.NI(null===(t=null==n?void 0:n.equipo)||void 0===t?void 0:t.id),perifericos:new a.NI})}var C=s(2340),b=s(1841),O=s(1521);let h=(()=>{class n{constructor(t,i,c){this.http=t,this.router=i,this.notificacionService=c,this.APP="asignacion",this.API=`${C.N.URL_API}/${this.APP}`,this.asignacionesLista=[],this.asignacionesSelect=""}addAsignaciones(t){this.http.post(this.API,t).subscribe(i=>{this.notificacionService.alertOk("OK","Se guardo el equipo."),this.getAsignaciones(),this.router.navigate(["/app/modules/asignaciones/list"])})}getAsignaciones(){this.http.get(this.API).subscribe(t=>{this.asignacionesLista=t.data,console.log(t.data)})}getAsignacion(){this.http.get(this.API).subscribe(t=>{console.log(t.data)})}updateAsignaciones(t){this.http.patch(`${this.API}/${t.id}`,t).subscribe(i=>{this.notificacionService.alertOk("OK","Se actualizo Asignacion."),this.router.navigate(["/app/modules/asignaciones/list"])})}deleteAsignaciones(t){this.http.delete(`${this.API}/${t}`).subscribe(i=>{this.notificacionService.alertOk("OK","Se elimino Asignacion."),this.getAsignaciones()})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(b.eN),e.LFG(l.F0),e.LFG(O.A))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=s(1065),T=s(9397),q=s(7727),f=s(8295),A=s(370),P=s(2458);function F(n,o){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre)}}function x(n,o){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.serial)}}function M(n,o){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.descripcion)}}const S=function(){return{standalone:!0}};let U=(()=>{class n{constructor(t,i,c,r,v){var g,p;this.asignacionesService=t,this.empleadosService=i,this.equiposService=c,this.perifericosService=r,this.route=v,this.asignaciones=[],this.empleados=[],this.equipos=[],this.perifericos=[],this.asignacion=null===(p=null===(g=this.route.getCurrentNavigation())||void 0===g?void 0:g.extras.state)||void 0===p?void 0:p.data,this.cargarEmpleados(),this.empleadosService.getEmpleados(),this.cargarEquipos(),this.equiposService.getEquipos(),this.cargarPerifericos(),this.perifericosService.getPerifericos()}ngOnInit(){this.asignacion?(this.asignacionForm=u(this.asignacion),this.btnText="Actualizar",this.selectedPerifericos=this.asignacion.perifericos):(this.asignacionForm=u({}),this.btnText="Guardar")}add(){this.asignacionForm.patchValue({perifericos:this.selectedPerifericos}),"Actualizar"===this.btnText?this.asignacionesService.updateAsignaciones(this.asignacionForm.value):(this.asignacionesService.addAsignaciones(this.asignacionForm.value),console.log(this.asignacionForm))}cargarEmpleados(){this.empleadosService.empleados$.subscribe(t=>{this.empleados=t})}cargarEquipos(){this.equiposService.equipos$.subscribe(t=>{t.forEach(i=>{"1"===i.disponible&&this.equipos.push(i)})})}cargarPerifericos(){this.perifericosService.perifericos$.subscribe(t=>{this.perifericos=t})}comparer(t,i){return t&&i?t.id===i.id:i==i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h),e.Y36(_.J),e.Y36(T.u),e.Y36(q.n),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-asignaciones"]],decls:30,vars:12,consts:[[1,"formAsignar",3,"formGroup"],[1,"formAsignar",2,"background-color","#ffc872","text-align","left"],[2,"text-align","center"],[2,"color","white","text-align","center"],["color","white",2,"width","50%"],[1,"inputForm"],["for","area",2,"color","white"],["appearance","standard"],["formControlName","empleado",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","equipo",3,"value","valueChange"],["multiple","",3,"ngModel","compareWith","ngModelOptions","ngModelChange"],["id","btnFinalizar","ng-disabled","form.$invalid",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e._uU(4,"Asignar"),e.qZA(),e._UZ(5,"hr",4),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Empleado:"),e.qZA(),e.TgZ(9,"mat-form-field",7),e.TgZ(10,"mat-select",8),e.NdJ("valueChange",function(r){return i.empleado=r}),e.YNc(11,F,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",5),e.TgZ(13,"label",6),e._uU(14,"Equipo:"),e.qZA(),e.TgZ(15,"mat-form-field",7),e.TgZ(16,"mat-select",10),e.NdJ("valueChange",function(r){return i.equipo=r}),e.YNc(17,x,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",5),e.TgZ(19,"label",6),e._uU(20,"Licencias:"),e.qZA(),e.qZA(),e.TgZ(21,"div",5),e.TgZ(22,"label",6),e._uU(23,"Perifericos:"),e.qZA(),e.TgZ(24,"mat-form-field"),e.TgZ(25,"mat-select",11),e.NdJ("ngModelChange",function(r){return i.selectedPerifericos=r}),e.YNc(26,M,2,2,"mat-option",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",2),e.TgZ(28,"button",12),e.NdJ("click",function(){return i.add()}),e._uU(29),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",i.asignacionForm),e.xp6(10),e.Q6J("value",i.empleado),e.xp6(1),e.Q6J("ngForOf",i.empleados),e.xp6(5),e.Q6J("value",i.equipo),e.xp6(1),e.Q6J("ngForOf",i.equipos),e.xp6(8),e.Q6J("ngModel",i.selectedPerifericos)("compareWith",i.comparer)("ngModelOptions",e.DdM(11,S)),e.xp6(1),e.Q6J("ngForOf",i.perifericos),e.xp6(2),e.Q6J("disabled",!i.equipos.length),e.xp6(1),e.hij(" ",i.btnText," "))},directives:[a._Y,a.JL,a.sg,f.KE,A.gD,a.JJ,a.u,d.sg,a.On,P.ey],styles:['.formAsignar[_ngcontent-%COMP%]{margin-top:1em;display:flex;flex-direction:column;grid-row-gap:1em;row-gap:1em}.formAsignar[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-bottom:1em}.formAsignar[_ngcontent-%COMP%] > .inputForm[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.inputForm[_ngcontent-%COMP%]{display:flex;align-items:center}.inputForm[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:50%;color:#fff;font-weight:bold;font-size:large}.inputForm[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:48%;height:2em;border:none;padding-left:5px;color:#000}.selectForm[_ngcontent-%COMP%]{width:100%;border:black 2px solid}.accesoriesCheckbox[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;font-size:14px;font-weight:bold}input[type=checkbox][_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;-o-appearance:none;outline:none;content:none}input[type=checkbox][_ngcontent-%COMP%]:before{font-family:"FontAwesome";content:"\\f00c";font-size:15px;color:transparent!important;display:block;width:15px;height:15px;border:2px solid rgb(255,255,255);margin-right:7px}input[type=checkbox][_ngcontent-%COMP%]:checked:before{color:#fff!important}#btnFinalizar[_ngcontent-%COMP%]{border:none;background-color:#7ace67;color:#fff;font-weight:bold;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#btnFinalizar[_ngcontent-%COMP%]:hover{background:#5bc92f}#btnFinalizar[_ngcontent-%COMP%]:disabled{background:#dddddd;cursor:default}mat-form-field.mat-form-field[_ngcontent-%COMP%]{background-color:#fff}  .mat-form-field-underline{display:none}']}),n})();function y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"i",3),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().AsignacionesService.deleteAsignaciones(r.id)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.empleado.nombre),e.xp6(2),e.Oqu(t.empleado.cedula),e.xp6(2),e.Oqu(t.equipo.tipoEquipo),e.xp6(2),e.Oqu(t.equipo.serial),e.xp6(2),e.hij(" ",e.lcZ(13,6,t.createdAt)," ")}}let J=(()=>{class n{constructor(t,i){this.AsignacionesService=t,this.router=i,this.listAsignaciones=[]}ngOnInit(){this.AsignacionesService.getAsignaciones()}redirect(t){this.router.navigate(["/app/modules/asignaciones/add"],{state:{data:t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h),e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["list-asignaciones"]],decls:21,vars:1,consts:[[1,"tableContainer"],["color","white"],[4,"ngFor","ngForOf"],[1,"fa","fa-times-rectangle",2,"font-size","25px","cursor","pointer","color","red",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1"),e._uU(2,"Asignaciones"),e.qZA(),e._UZ(3,"hr",1),e.TgZ(4,"table"),e.TgZ(5,"tr"),e.TgZ(6,"th"),e._uU(7,"ID"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Empleado"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"C\xe9dula"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Tipo Equipo"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Serial"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Fecha Asignacion"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Eliminar"),e.qZA(),e.qZA(),e.YNc(20,y,16,8,"tr",2),e.qZA(),e.qZA()),2&t&&(e.xp6(20),e.Q6J("ngForOf",i.AsignacionesService.asignacionesLista))},directives:[d.sg],pipes:[d.uU],styles:[".tableContainer[_ngcontent-%COMP%]{margin-top:2em;width:70%;height:80%}table[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:center;background-color:#7ace67;color:#fff}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:7px;text-align:center}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.tableContainer[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{color:#f0ffe5;text-align:center;margin:.5em}.tableContainer[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{width:50%;margin-bottom:1em}"]}),n})();var w=s(9983);const N=[{path:"",component:Z,children:[{path:"add",component:U},{path:"list",component:J}]}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,l.Bz.forChild(N),a.u5,a.UX,A.LD,f.lN,w.c]]}),n})()}}]);